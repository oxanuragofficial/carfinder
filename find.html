<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Find Your Car - CarFinder</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="loader" class="loader" style="display: none;">
    <img src="images/tyre.svg" class="spin" alt="Loading tyre" />
    <p>Preparing Questions...</p>
  </div>

  <nav class="nav">
    <div class="nav-left"><a href="index.html" class="brand">CarFinder</a></div>
    <ul class="nav-right">
      <li><a href="index.html">Home</a></li>
      <li><a href="browse.html">Browse</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>

  <main class="wizard-page">
    <section class="wizard-card" id="wizardCard" aria-live="polite">
      <div class="progress" id="progressBar"><span id="progressText">Question 1 of 7</span></div>
      <h2 id="questionText">Loading question...</h2>
      <div id="optionsBox" class="options-grid"></div>

      <div class="wizard-controls">
        <button id="prevBtn" class="btn ghost" disabled>Back</button>
        <button id="nextBtn" class="btn primary">Next</button>
      </div>
    </section>
  </main>

  <script src="data.js"></script>
  <script src="script.js"></script>
  <script src="wizard.js"></script>
  <script>
    // Fix for back button issue - hide loader immediately
    document.addEventListener('DOMContentLoaded', function() {
      const loader = document.getElementById('loader');
      if (loader) {
        loader.style.display = 'none';
      }
      
      // Additional safety - hide loader after a timeout
      setTimeout(() => {
        if (loader) {
          loader.style.display = 'none';
        }
      }, 1000);
    });

    // Handle page refresh or back navigation
    window.addEventListener('pageshow', function(event) {
      const loader = document.getElementById('loader');
      if (loader && event.persisted) {
        loader.style.display = 'none';
      }
    });
  </script>
</body>
</html>