<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Car Game - CarFinder</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="theme-light">
  <nav class="nav">
    <div class="nav-left"><a href="index.html" class="brand">CarFinder</a></div>
    <ul class="nav-right">
      <li><a href="index.html">Home</a></li>
      <li><a href="find.html">Find</a></li>
      <li><a href="browse.html">Browse</a></li>
    </ul>
  </nav>

  <main class="container content">
    <h1>Car Dodge â€” Simple Game</h1>
    <p>Use left/right arrow keys or A/D to move. Avoid incoming cars to score points.</p>
    <canvas id="gameCanvas" width="360" height="600" style="background:#111;border-radius:12px;display:block;margin:12px auto;"></canvas>
    <div style="text-align:center;"><button id="startBtn" class="btn primary">Start Game</button></div>
    <div id="score" style="text-align:center;margin-top:8px;color:var(--muted)">Score: 0</div>
  </main>

<script>
const canvas = document.getElementById('gameCanvas'); const ctx = canvas.getContext('2d');
let player = {x:160,y:520,w:40,h:70,speed:6}; let keys={}; let obstacles=[]; let score=0; let running=false;
document.addEventListener('keydown', e=>keys[e.key]=true); document.addEventListener('keyup', e=>keys[e.key]=false);
function spawn(){ const x = Math.random()*(canvas.width-60)+30; obstacles.push({x:x,y:-80,w:40,h:70,spd:2+Math.random()*3}); }
function update(){ if(!running) return; if(keys['ArrowLeft']||keys['a']) player.x-=player.speed; if(keys['ArrowRight']||keys['d']) player.x+=player.speed; player.x = Math.max(10, Math.min(canvas.width-player.w-10, player.x)); obstacles.forEach(o=>{ o.y+=o.spd; if(o.y>canvas.height+100){ score+=1; document.getElementById('score').innerText='Score: '+score; o.y=-200; o.x=Math.random()*(canvas.width-60)+30; } }); for(const o of obstacles){ if(o.x<player.x+player.w && o.x+o.w>player.x && o.y<player.y+player.h && o.y+o.h>player.y){ running=false; setTimeout(()=>{ alert('Game over! Score: '+score); },50); } } }
function draw(){ ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle='#4f46e5'; ctx.fillRect(player.x,player.y,player.w,player.h); ctx.fillStyle='#ef4444'; obstacles.forEach(o=>ctx.fillRect(o.x,o.y,o.w,o.h)); if(running) requestAnimationFrame(()=>{ update(); draw(); }); }
function startGame(){ obstacles=[]; score=0; for(let i=0;i<4;i++) spawn(); running=true; draw(); }
document.getElementById('startBtn').addEventListener('click', ()=>{ startGame(); });
</script>
</body>
</html>
